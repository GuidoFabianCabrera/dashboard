(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{420:function(e,t,n){var content=n(477);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(25).default)("3104fa7d",content,!0,{sourceMap:!1})},476:function(e,t,n){"use strict";n(420)},477:function(e,t,n){var r=n(24)(!1);r.push([e.i,"",""]),e.exports=r},492:function(e,t,n){"use strict";n.r(t);var r=n(20),o=(n(66),n(11),n(53),n(60),n(27),n(34),n(184),{data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"Episode",value:"episode"},{text:"Name",value:"name"},{text:"Air date",value:"air_date"},{text:"Actions",value:"actions",sortable:!1}],items:[],editedIndex:-1,editedItem:{episode:"",name:"",air_date:""},defaultItem:{episode:"",name:"",air_date:""},filteredItem:{episode:"",name:"",air_date:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Episode":"Edit Item"},itemFiltered:function(){var e=this;return this.items.filter((function(t){if(t.episode.toLowerCase().includes(e.filteredItem.episode.toLowerCase())&&t.name.toLowerCase().includes(e.filteredItem.name.toLowerCase())&&t.air_date.toLowerCase().includes(e.filteredItem.air_date.toLowerCase()))return t}))}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){this.initialize()},methods:{initialize:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$repository.episode.search();case 3:data=t.sent,e.items=data,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},editItem:function(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$repository.episode.deleteOne(e.items[e.editedIndex]._id);case 3:e.closeDelete(),e.initialize(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.editedIndex>-1)){t.next=14;break}return t.prev=1,data={name:e.editedItem.name,air_date:e.editedItem.air_date,episode:e.editedItem.episode,characters:e.items[e.editedIndex].characters,url:e.items[e.editedIndex].url},t.next=5,e.$repository.episode.updateOne(e.items[e.editedIndex]._id,data);case 5:e.initialize(),e.close(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:t.next=25;break;case 14:return t.prev=14,n={name:e.editedItem.name,air_date:e.editedItem.air_date,episode:e.editedItem.episode,characters:["string"],url:"string"},t.next=18,e.$repository.episode.createOne(n);case 18:e.initialize(),e.close(),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(14),console.log(t.t1);case 25:case"end":return t.stop()}}),t,null,[[1,9],[14,22]])})))()}}}),d=(n(476),n(69)),l=n(86),c=n.n(l),m=n(423),v=n(377),f=n(376),x=n(483),_=n(495),I=n(489),h=n(485),k=n(415),w=n(170),C=n(486),y=n(487),V=n(480),D=n(488),component=Object(d.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-left":"56px"}},[n("div",{staticClass:"custom_container mt-10"},[[n("v-data-table",{staticClass:"elevation-1 pt-4",attrs:{headers:e.headers,items:e.itemFiltered,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Episode"},model:{value:e.filteredItem.episode,callback:function(t){e.$set(e.filteredItem,"episode",t)},expression:"filteredItem.episode"}})],1),e._v(" "),n("v-col",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.filteredItem.name,callback:function(t){e.$set(e.filteredItem,"name",t)},expression:"filteredItem.name"}})],1),e._v(" "),n("v-col",[n("v-text-field",{attrs:{label:"Air date"},model:{value:e.filteredItem.air_date,callback:function(t){e.$set(e.filteredItem,"air_date",t)},expression:"filteredItem.air_date"}})],1)],1),e._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),r),[e._v("\n                  New episode\n                ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),e._v(" "),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Episode"},model:{value:e.editedItem.episode,callback:function(t){e.$set(e.editedItem,"episode",t)},expression:"editedItem.episode"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Name"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Air date"},model:{value:e.editedItem.air_date,callback:function(t){e.$set(e.editedItem,"air_date",t)},expression:"editedItem.air_date"}})],1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("\n                    Cancel\n                  ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("\n                    Save\n                  ")])],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.deleteItemConfirm()}}},[e._v("OK")]),e._v(" "),n("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v("\n            mdi-pencil\n          ")]),e._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v("\n            mdi-delete\n          ")])]}},{key:"no-data",fn:function(){return[n("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("\n            Reset\n          ")])]},proxy:!0}])})]],2)])}),[],!1,null,"4b2fb998",null);t.default=component.exports;c()(component,{VBtn:m.a,VCard:v.a,VCardActions:f.a,VCardText:f.b,VCardTitle:f.c,VCol:x.a,VContainer:_.a,VDataTable:I.a,VDialog:h.a,VDivider:k.a,VIcon:w.a,VRow:C.a,VSpacer:y.a,VTextField:V.a,VToolbar:D.a})}}]);